# E-TRANSv2 Документация

Вся документация которая относится к проекту E-TRANSv2 (Edge-Translator)

## Полезные ссылки

* `https://github.com/arkk4/E-TRANSv2` - Гитхаб проекта
* `https://pyneng.readthedocs.io/ru/latest/` - Книга по пайтону
* `https://click.palletsprojects.com/en/7.x/` - Документация по click
* `http://vrds.arkk4.online:8443/` - CodeServer

## Структура проекта

    ETClier.py    # Модуль CLI Интерфейса, используется click
    ETDownloader.py # Модуль отвечающий за скачивание файла конфигурации
        ETConfpars.py  # Модуль парсинга необходимых данных из исходного конфига и складывания их в {swip}.yaml
        ETTranslator.py       # Модуль подстановки необходимых данных из {swip}.yaml в темлейт конфига (темлпейт определяется в зависимости от модели выбранной пользователем при взаимодействии с ETClier.py) и сохранение полученого файла как {swip}_ET.cfg
    ETComander.py # Модуль отвечающий за инициализацию com соединения с настраиваемым коммутатором и заливкой конфигурации {swip}_ET.cfg в него посредством работы с буффером обмена 

## Текстовое описание работы

* Пользователь вызывает скрипт с указанием флагов (опционально) и указанием ip адреса свича с    которого берется конфиг и модели настраиваемого свича (обязательно), на этом этапе работает модуль  ETClier
* IP переданый пользователем в ETClier передается в следующий модуль - ETDownloader, который скачивает файл конфигурации свича с указаным адресом название полученного файла - {IP СВИЧА}.cfg
* Скачаный файл конфигурации передается модулю ETConfpars который извлекает из этого файла необходимые данные и складывает их в словарь с названием {IP СВИЧА}.yaml
* Далее работает модуль ETTranslator которому от модуля ETClier передается переменная содержащая в себе модель свича, на основании этого, модуль подгружает текстовый файл {МОДЕЛЬ СВИЧА} который представляет из себя заготовку для будущей готовой конфигурации. Далее с помощью Jinja2 файлы {МОДЕЛЬ СВИЧА} и {IP СВИЧА}.yaml объединяются, полученый в итоге файл называется {IP СВИЧА}_ET.cfg
* Данные из полученого на прошлом этапе файла передаются в буфер обмена и модуль ETComander выполняет вставку содержимого файла в интерфейс коммутатора через com соединение
